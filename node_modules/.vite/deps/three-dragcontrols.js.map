{
  "version": 3,
  "sources": ["../../three-dragcontrols/lib/index.module.js"],
  "sourcesContent": ["import {\n  EventDispatcher,\n  Plane,\n  Raycaster,\n  Vector2,\n  Vector3\n} from 'three';\n\n/*\n * @author zz85 / https://github.com/zz85\n * @author mrdoob / http://mrdoob.com\n * Running this will allow you to drag three.js objects around the screen.\n */\n\nfunction DragControls(_objects, _camera, _domElement) {\n\n  if (_objects.isCamera) {\n\n    console.warn('THREE.DragControls: Constructor now expects ( objects, camera, domElement )');\n    var temp = _objects;\n    _objects = _camera;\n    _camera = temp;\n\n  }\n\n  var _plane = new Plane();\n  var _raycaster = new Raycaster();\n\n  var _mouse = new Vector2();\n  var _offset = new Vector3();\n  var _intersection = new Vector3();\n\n  var _selected = null,\n    _hovered = null;\n\n  //\n\n  var scope = this;\n\n  function activate() {\n\n    _domElement.addEventListener('mousemove', onDocumentMouseMove, false);\n    _domElement.addEventListener('mousedown', onDocumentMouseDown, false);\n    _domElement.addEventListener('mouseup', onDocumentMouseCancel, false);\n    _domElement.addEventListener('mouseleave', onDocumentMouseCancel, false);\n    _domElement.addEventListener('touchmove', onDocumentTouchMove, false);\n    _domElement.addEventListener('touchstart', onDocumentTouchStart, false);\n    _domElement.addEventListener('touchend', onDocumentTouchEnd, false);\n\n  }\n\n  function deactivate() {\n\n    _domElement.removeEventListener('mousemove', onDocumentMouseMove, false);\n    _domElement.removeEventListener('mousedown', onDocumentMouseDown, false);\n    _domElement.removeEventListener('mouseup', onDocumentMouseCancel, false);\n    _domElement.removeEventListener('mouseleave', onDocumentMouseCancel, false);\n    _domElement.removeEventListener('touchmove', onDocumentTouchMove, false);\n    _domElement.removeEventListener('touchstart', onDocumentTouchStart, false);\n    _domElement.removeEventListener('touchend', onDocumentTouchEnd, false);\n\n  }\n\n  function dispose() {\n\n    deactivate();\n\n  }\n\n  function onDocumentMouseMove(event) {\n\n    event.preventDefault();\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _selected.position.copy(_intersection.sub(_offset));\n\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n\n      return;\n\n    }\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      var object = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), object.position);\n\n      if (_hovered !== object) {\n\n        scope.dispatchEvent({\n          type: 'hoveron',\n          object: object\n        });\n\n        _domElement.style.cursor = 'pointer';\n        _hovered = object;\n\n      }\n\n    } else {\n\n      if (_hovered !== null) {\n\n        scope.dispatchEvent({\n          type: 'hoveroff',\n          object: _hovered\n        });\n\n        _domElement.style.cursor = 'auto';\n        _hovered = null;\n\n      }\n\n    }\n\n  }\n\n  function onDocumentMouseDown(event) {\n\n    event.preventDefault();\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      _selected = intersects[0].object;\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _offset.copy(_intersection).sub(_selected.position);\n\n      }\n\n      _domElement.style.cursor = 'move';\n\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n\n    }\n\n\n  }\n\n  function onDocumentMouseCancel(event) {\n\n    event.preventDefault();\n\n    if (_selected) {\n\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n\n      _selected = null;\n\n    }\n\n    _domElement.style.cursor = 'auto';\n\n  }\n\n  function onDocumentTouchMove(event) {\n\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _selected.position.copy(_intersection.sub(_offset));\n\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n\n      return;\n\n    }\n\n  }\n\n  function onDocumentTouchStart(event) {\n\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n\n      _selected = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), _selected.position);\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n\n        _offset.copy(_intersection).sub(_selected.position);\n\n      }\n\n      _domElement.style.cursor = 'move';\n\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n\n    }\n\n\n  }\n\n  function onDocumentTouchEnd(event) {\n\n    event.preventDefault();\n\n    if (_selected) {\n\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n\n      _selected = null;\n\n    }\n\n    _domElement.style.cursor = 'auto';\n\n  }\n\n  activate();\n\n  // API\n\n  this.enabled = true;\n\n  this.activate = activate;\n  this.deactivate = deactivate;\n  this.dispose = dispose;\n\n  // Backward compatibility\n\n  this.setObjects = function() {\n\n    console.error('THREE.DragControls: setObjects() has been removed.');\n\n  };\n\n  this.on = function(type, listener) {\n\n    console.warn('THREE.DragControls: on() has been deprecated. Use addEventListener() instead.');\n    scope.addEventListener(type, listener);\n\n  };\n\n  this.off = function(type, listener) {\n\n    console.warn('THREE.DragControls: off() has been deprecated. Use removeEventListener() instead.');\n    scope.removeEventListener(type, listener);\n\n  };\n\n  this.notify = function(type) {\n\n    console.error('THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead.');\n    scope.dispatchEvent({\n      type: type\n    });\n\n  };\n\n}\n\nDragControls.prototype = Object.create(EventDispatcher.prototype);\nDragControls.prototype.constructor = DragControls;\n\nexport default DragControls;"],
  "mappings": "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",
  "names": []
}
